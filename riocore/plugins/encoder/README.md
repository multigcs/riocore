# encoder

<img align="right" width="320" src="image.png">

**software counting of quadrature encoder signals**

encoder is used to measure position by counting the pulses generated by a quadrature encoder.
As a software-based implementation it is much less expensive than hardware,
but has a limited maximum count rate.
The limit is in the range of 10 kHz to 50 kHz, depending on the computer speed and other factors.
If better performance is needed, a hardware encoder counter is a better choice.
Some hardware-based systems can count at MHz rates.

Keywords: encoder quadencoder scale jog

## Pins:
*FPGA-pins*
### phase-A:

 * direction: input

### phase-B:

 * direction: input

### phase-Z:

 * direction: input
 * optional: True


## Options:
*user-options*
### name:
name of this plugin instance

 * type: str
 * default: 

### counter-mode:
counter-mode

 * type: bool
 * default: False
 * unit: 

### x4-mode:
x4-mode

 * type: bool
 * default: False
 * unit: 

### missing-teeth:
missing-teeth

 * type: int
 * min: 0
 * max: 10
 * default: 0
 * unit: 

### position-scale:
scale

 * type: float
 * min: -10000.0
 * max: 10000.0
 * default: 1.0
 * unit: 


## Signals:
*signals/pins in LinuxCNC*
### position:
position feedback in steps

 * type: float
 * direction: input

### velocity:
calculates revolutions per second

 * type: float
 * direction: input

### velocity-rpm:
calculates revolutions per minute

 * type: float
 * direction: input


## Interfaces:
*transport layer*


## Basic-Example:
```
{
    "type": "encoder",
    "pins": {
        "phase-A": {
            "pin": "0"
        },
        "phase-B": {
            "pin": "1"
        },
        "phase-Z": {
            "pin": "2"
        }
    }
}
```

## Full-Example:
```
{
    "type": "encoder",
    "name": "",
    "counter-mode": false,
    "x4-mode": false,
    "missing-teeth": 0,
    "position-scale": 1.0,
    "pins": {
        "phase-A": {
            "pin": "0",
            "modifiers": [
                {
                    "type": "debounce"
                }
            ]
        },
        "phase-B": {
            "pin": "1",
            "modifiers": [
                {
                    "type": "debounce"
                },
                {
                    "type": "invert"
                }
            ]
        },
        "phase-Z": {
            "pin": "2",
            "modifiers": [
                {
                    "type": "debounce"
                },
                {
                    "type": "invert"
                }
            ]
        }
    },
    "signals": {
        "position": {
            "net": "xxx.yyy.zzz",
            "function": "rio.xxx",
            "scale": 100.0,
            "offset": 0.0,
            "display": {
                "title": "position",
                "section": "inputs",
                "type": "meter"
            }
        },
        "velocity": {
            "net": "xxx.yyy.zzz",
            "function": "rio.xxx",
            "scale": 100.0,
            "offset": 0.0,
            "display": {
                "title": "velocity",
                "section": "inputs",
                "type": "meter"
            }
        },
        "velocity-rpm": {
            "net": "xxx.yyy.zzz",
            "function": "rio.xxx",
            "scale": 100.0,
            "offset": 0.0,
            "display": {
                "title": "velocity-rpm",
                "section": "inputs",
                "type": "meter"
            }
        }
    }
}
```
